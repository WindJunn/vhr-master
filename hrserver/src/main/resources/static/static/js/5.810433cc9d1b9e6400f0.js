webpackJsonp([5],{"8Er+":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-container",[i("el-header",{staticStyle:{"text-align":"left","padding-left":"0px","margin-top":"10px"}},[i("el-tag",{attrs:{size:"medium"}},[e._v("请选择部门:")]),e._v(" "),i("el-select",{attrs:{size:"mini",placeholder:"请选择"},model:{value:e.depId,callback:function(t){e.depId=t},expression:"depId"}},e._l(e.deps,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),i("el-main",[e._v("Main")])],1)],1)},staticRenderFns:[]},n=i("VU/8")({data:function(){return{depId:1,deps:[]}},methods:{loadDeps:function(){var e=this;this.getRequest("/salary/table/deps").then(function(t){t&&200==t.status&&(e.deps=t.data)})}},mounted:function(){this.loadDeps()}},a,!1,null,null,null);t.default=n.exports},"9Acn":function(e,t,i){var a={"./SalMonth.vue":"R27X","./SalSearch.vue":"mNON","./SalSob.vue":"VnTu","./SalSobCfg.vue":"YbFX","./SalTable.1.vue":"8Er+","./SalTable.vue":"tQt2"};function n(e){return i(l(e))}function l(e){var t=a[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}n.keys=function(){return Object.keys(a)},n.resolve=l,e.exports=n,n.id="9Acn"},R27X:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={data:function(){return{pickerOptions:{shortcuts:[{text:"今天",onClick:function(e){e.$emit("pick",new Date)}},{text:"明天",onClick:function(e){var t=new Date;t.setTime(t.getTime()+864e5),e.$emit("pick",t)}},{text:"一周后",onClick:function(e){var t=new Date;t.setTime(t.getTime()+6048e5),e.$emit("pick",t)}}]},emps:[],schedules:[],keywords:"",beginDateScope:"",faangledoubleup:"fa-angle-double-up",faangledoubledown:"fa-angle-double-down",dialogTitle:"",multipleSelection:[],depTextColor:"#c0c4cc",positions:[],totalCount:-1,currentPage:1,hr:{id:"",name:"",phone:""},deps:[],defaultProps:{label:"name",isLeaf:"leaf",children:"children"},dialogVisible:!1,tableLoading:!1,advanceSearchViewVisible:!1,showOrHidePop:!1,showOrHidePop2:!1,emp:{userId:"",name:"",departmentId:"",departmentName:"所属部门...",time:"",state:"",address:"",phone:"",theme:""},schedule:{userId:"",name:"",departmentId:"",departmentName:"所属部门...",time:"",state:"",address:"",theme:"",des:""},sch:{id:"",userId:"",departmentId:"",time:"",state:"",theme:"",des:""},schtime:"",rules:{name:[{required:!0,message:"必填:姓名",trigger:"blur"}],birthday:[{required:!0,message:"必填:授课时间",trigger:"blur"}],phone:[{required:!0,message:"必填:电话号码",trigger:"blur"}],address:[{required:!0,message:"必填:联系地址",trigger:"blur"}],departmentId:[{required:!0,message:"必填:部门",trigger:"change"}]}}},mounted:function(){this.initData(),this.loadEmps()},methods:{cancelSearch:function(){this.advanceSearchViewVisible=!1,this.emptyEmpData(),this.beginDateScope="",this.loadEmps()},showAdvanceSearchView:function(){this.advanceSearchViewVisible=!this.advanceSearchViewVisible,this.keywords="",this.advanceSearchViewVisible||(this.emptyEmpData(),this.beginDateScope="",this.loadEmps())},handleSelectionChange:function(e){this.multipleSelection=e},deleteManyEmps:function(){var e=this;this.$confirm("此操作将删除["+this.multipleSelection.length+"]条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){for(var t="",i=0;i<e.multipleSelection.length;i++)t+=e.multipleSelection[i].id+",";e.doDelete(t)}).catch(function(){})},deleteEmp:function(e){var t=this;this.$confirm("此操作将永久删除["+e.hr.name+"], 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.doDelete(e.id)}).catch(function(){})},doDelete:function(e){this.tableLoading=!0;var t=this;this.deleteRequest("/schedules/sch/"+e).then(function(e){if(t.tableLoading=!1,e&&200==e.status){e.data;t.loadEmps()}})},keywordsChange:function(e){""==e&&this.loadEmps()},searchEmp:function(){this.loadEmps()},currentChange:function(e){this.currentPage=e,this.loadEmps()},loadEmps:function(){var e=this,t=this;this.tableLoading=!0,this.getRequest("/schedules/sch?page="+this.currentPage+"&size=10&keywords="+this.keywords+"&userId="+this.sch.userId+"&departmentId="+this.sch.departmentId).then(function(i){if(e.tableLoading=!1,i&&200==i.status){var a=i.data;t.schedules=a.schedules,t.totalCount=a.count}console.log(t.schedules)})},addEmp:function(e){var t=this,i=this;this.$refs[e].validate(function(e){if(!e)return!1;t.schedule.id?(t.tableLoading=!0,t.putRequest("/schedules/sch",t.sch).then(function(e){if(i.tableLoading=!1,e&&200==e.status){e.data;i.dialogVisible=!1,i.emptyEmpData(),i.loadEmps()}})):(t.tableLoading=!0,t.postRequest("/schedules/sch",t.schedule).then(function(e){if(i.tableLoading=!1,e&&200==e.status){e.data;i.dialogVisible=!1,i.emptyEmpData(),i.loadEmps()}}))})},cancelEidt:function(){this.dialogVisible=!1,this.emptyEmpData()},showDepTree:function(){this.showOrHidePop=!this.showOrHidePop},showDepTree2:function(){this.showOrHidePop2=!this.showOrHidePop2},handleNodeClick:function(e){this.emp.departmentName=e.name,this.emp.departmentId=e.id,this.showOrHidePop=!1,this.depTextColor="#606266"},handleNodeClick2:function(e){this.emp.departmentName=e.name,this.emp.departmentId=e.id,this.showOrHidePop2=!1,this.depTextColor="#606266"},initData:function(){this.getRequest("/schedules/sch").then(function(e){if(e&&200==e.status)e.data;console.log(e.data)})},showEditEmpView:function(e){console.log(e);this.dialogTitle="编辑排班",this.schedule=e,this.schedule.userId=e.hr.id,this.schedule.name=e.hr.name,this.schedule.departmentId=e.department.id,this.schedule.departmentName=e.department.name,this.schedule.phone=e.hr.phone,this.dialogVisible=!0,this.sch.id=e.id,this.sch.userId=this.schedule.userId,this.sch.departmentId=this.schedule.departmentId,this.sch.departmentName=this.schedule.departmentName,this.sch.theme=e.theme,this.sch.state=e.state,this.sch.des=e.des,this.sch.time=this.formatDateTime(e.time)},showAddEmpView:function(){this.dialogTitle="添加排班",this.dialogVisible=!0},emptyEmpData:function(){this.schedule={name:"",time:"",phone:"",address:"",departmentId:"",departmentName:"所属部门...",theme:""}}}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-container",[i("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center"}},[i("div",{staticStyle:{display:"inline"}},[i("el-input",{staticStyle:{width:"300px",margin:"0px",padding:"0px"},attrs:{placeholder:"通过教员名搜索学员,记得回车哦...",clearable:"",size:"mini",disabled:e.advanceSearchViewVisible,"prefix-icon":"el-icon-search"},on:{change:e.keywordsChange},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.searchEmp(t)}},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}}),e._v(" "),i("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.searchEmp}},[e._v("搜索")]),e._v(" "),i("el-button",{staticStyle:{"margin-left":"5px"},attrs:{slot:"reference",type:"primary",size:"mini"},on:{click:e.showAdvanceSearchView},slot:"reference"},[i("i",{staticClass:"fa fa-lg",class:[e.advanceSearchViewVisible?e.faangledoubleup:e.faangledoubledown],staticStyle:{"margin-right":"5px"}}),e._v("高级搜索\n        ")])],1)]),e._v(" "),i("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[i("div",[i("transition",{attrs:{name:"slide-fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.advanceSearchViewVisible,expression:"advanceSearchViewVisible"}],staticStyle:{"margin-bottom":"10px",border:"1px","border-radius":"5px","border-style":"solid",padding:"5px 0px 5px 0px","box-sizing":"border-box","border-color":"#20a0ff"}},[i("el-row",[i("el-col",{attrs:{span:4}},[e._v("\n                民族:\n                "),i("el-select",{staticStyle:{width:"130px"},attrs:{size:"mini",placeholder:"请选择民族"},model:{value:e.emp.nationId,callback:function(t){e.$set(e.emp,"nationId",t)},expression:"emp.nationId"}},e._l(e.nations,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),i("el-col",{attrs:{span:5}},[e._v("\n                所属部门:\n                "),i("el-popover",{attrs:{placement:"right",title:"请选择部门",trigger:"manual"},model:{value:e.showOrHidePop2,callback:function(t){e.showOrHidePop2=t},expression:"showOrHidePop2"}},[i("el-tree",{attrs:{data:e.deps,"default-expand-all":!1,props:e.defaultProps,"expand-on-click-node":!1},on:{"node-click":e.handleNodeClick2}}),e._v(" "),i("div",{staticStyle:{width:"130px",height:"26px",display:"inline-flex","font-size":"13px",border:"1px","border-radius":"5px","border-style":"solid","padding-left":"13px","box-sizing":"border-box","border-color":"#dcdfe6",cursor:"pointer","align-items":"center"},style:{color:e.depTextColor},attrs:{slot:"reference"},on:{click:e.showDepTree2},slot:"reference"},[e._v(e._s(e.emp.departmentName))])],1)],1)],1),e._v(" "),i("el-row",{staticStyle:{"margin-top":"10px"}},[i("el-col",{attrs:{span:5,offset:4}},[i("el-button",{attrs:{size:"mini"},on:{click:e.cancelSearch}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"mini"},on:{click:e.searchEmp}},[e._v("搜索")])],1)],1)],1)]),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.schedules,border:"",stripe:"",size:"mini"},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",align:"left",width:"30"}}),e._v(" "),i("el-table-column",{attrs:{prop:"hr.name",align:"left",fixed:"",label:"姓名",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{prop:"theme",width:"200",align:"left",label:"授课主题"}}),e._v(" "),i("el-table-column",{attrs:{width:"200",align:"left",label:"授课时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDateTime")(t.row.time)))]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"department.name",label:"授课地点",width:"200",align:"left"}}),e._v(" "),i("el-table-column",{attrs:{prop:"state",label:"授课状态",width:"70",align:"left"}}),e._v(" "),i("el-table-column",{attrs:{prop:"hr.phone",width:"120",label:"联系电话"}}),e._v(" "),i("el-table-column",{attrs:{prop:"department.name",align:"left",width:"100",label:"所属部门"}}),e._v(" "),i("el-table-column",{attrs:{prop:"des",label:"备注",width:"150",align:"left"}}),e._v(" "),i("el-table-column",{attrs:{fixed:"right",label:"操作",width:"195"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{staticStyle:{padding:"3px 4px 3px 4px",margin:"2px"},attrs:{size:"mini"},on:{click:function(i){e.showEditEmpView(t.row)}}},[e._v("编辑")]),e._v(" "),i("el-button",{staticStyle:{padding:"3px 4px 3px 4px",margin:"2px"},attrs:{type:"danger",size:"mini"},on:{click:function(i){e.deleteEmp(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),i("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px"}},[e.schedules.length>0?i("el-button",{attrs:{type:"danger",size:"mini",disabled:0==e.multipleSelection.length},on:{click:e.deleteManyEmps}},[e._v("批量删除")]):e._e(),e._v(" "),i("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,15,20,30,50],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.currentChange}})],1)],1)])],1),e._v(" "),i("el-form",{ref:"addEmpForm",staticStyle:{margin:"0px",padding:"0px"},attrs:{model:e.schedule,rules:e.rules}},[i("div",{staticStyle:{"text-align":"left"}},[i("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,visible:e.dialogVisible,width:"77%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("el-row",[i("el-col",{attrs:{span:6}},[i("div",[i("el-form-item",{attrs:{label:"姓名:",prop:"name"}},[i("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入教员姓名"},model:{value:e.schedule.name,callback:function(t){e.$set(e.schedule,"name",t)},expression:"schedule.name"}})],1)],1)]),e._v(" "),i("el-col",{attrs:{span:7}},[i("div",[i("el-form-item",{attrs:{label:"电话号码:",prop:"phone"}},[i("el-input",{staticStyle:{width:"200px"},attrs:{"prefix-icon":"el-icon-phone",size:"mini",placeholder:"电话号码..."},model:{value:e.schedule.phone,callback:function(t){e.$set(e.schedule,"phone",t)},expression:"schedule.phone"}})],1)],1)]),e._v(" "),i("el-col",{attrs:{span:6}},[i("div",[i("el-form-item",{attrs:{label:"所属部门:",prop:"departmentId"}},[i("el-popover",{attrs:{placement:"right",title:"请选择部门",trigger:"manual"},model:{value:e.showOrHidePop,callback:function(t){e.showOrHidePop=t},expression:"showOrHidePop"}},[i("el-tree",{attrs:{data:e.deps,"default-expand-all":!1,props:e.defaultProps,"expand-on-click-node":!1},on:{"node-click":e.handleNodeClick}}),e._v(" "),i("div",{staticStyle:{width:"150px",height:"26px",display:"inline-flex","font-size":"13px",border:"1px","border-radius":"5px","border-style":"solid","padding-left":"13px","box-sizing":"border-box","border-color":"#dcdfe6",cursor:"pointer","align-items":"center"},style:{color:e.depTextColor},attrs:{slot:"reference"},on:{click:function(t){return"button"in t||!e._k(t.keyCode,"left",37,t.key)?"button"in t&&0!==t.button?null:void e.showDepTree(t):null}},slot:"reference"},[e._v(e._s(e.schedule.departmentName))])],1)],1)],1)])],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("div",{staticClass:"block"},[i("el-form-item",{attrs:{label:"授课日期:",prop:"time"}},[i("el-date-picker",{staticStyle:{width:"65%"},attrs:{size:"mini","value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择授课日期时间","picker-options":e.pickerOptions},model:{value:e.sch.time,callback:function(t){e.$set(e.sch,"time",t)},expression:"sch.time"}})],1)],1)]),e._v(" "),i("el-col",{attrs:{span:6}},[i("div",[i("el-form-item",{attrs:{label:"授课地点:",prop:"departmentId"}},[i("el-popover",{attrs:{placement:"right",title:"授课地点",trigger:"manual"},model:{value:e.showOrHidePop,callback:function(t){e.showOrHidePop=t},expression:"showOrHidePop"}},[i("el-tree",{attrs:{data:e.deps,"default-expand-all":!1,props:e.defaultProps,"expand-on-click-node":!1},on:{"node-click":e.handleNodeClick}}),e._v(" "),i("div",{staticStyle:{width:"150px",height:"26px",display:"inline-flex","font-size":"13px",border:"1px","border-radius":"5px","border-style":"solid","padding-left":"13px","box-sizing":"border-box","border-color":"#dcdfe6",cursor:"pointer","align-items":"center"},style:{color:e.depTextColor},attrs:{slot:"reference"},on:{click:function(t){return"button"in t||!e._k(t.keyCode,"left",37,t.key)?"button"in t&&0!==t.button?null:void e.showDepTree(t):null}},slot:"reference"},[e._v(e._s(e.schedule.departmentName))])],1)],1)],1)]),e._v(" "),i("el-col",{attrs:{span:6}},[i("div",[i("el-form-item",{attrs:{label:"授课状态:",prop:"state"}},[i("el-input",{staticStyle:{width:"100px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"授课状态..."},model:{value:e.sch.state,callback:function(t){e.$set(e.sch,"state",t)},expression:"sch.state"}})],1)],1)])],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:9}},[i("div",[i("el-form-item",{attrs:{label:"授课主题:",prop:"theme"}},[i("el-input",{staticStyle:{width:"300px"},attrs:{size:"mini",placeholder:"授课主题..."},model:{value:e.sch.theme,callback:function(t){e.$set(e.sch,"theme",t)},expression:"sch.theme"}})],1)],1)]),e._v(" "),i("el-col",{attrs:{span:9}},[i("div",[i("el-form-item",{attrs:{label:"备注:",prop:"des"}},[i("el-input",{staticStyle:{width:"300px"},attrs:{size:"mini",placeholder:"备注..."},model:{value:e.sch.des,callback:function(t){e.$set(e.sch,"des",t)},expression:"sch.des"}})],1)],1)])],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:e.cancelEidt}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.addEmp("addEmpForm")}}},[e._v("确 定")])],1)],1)],1)])],1)},staticRenderFns:[]};var l=i("VU/8")(a,n,!1,function(e){i("ipd5")},null,null);t.default=l.exports},VnTu:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={data:function(){return{dialogVisible:!1,tableLoading:!1,index:0,salaries:[],multipleSelection:[],salary:{id:"",createDate:"",basicSalary:"",trafficSalary:"",lunchSalary:"",bonus:"",pensionBase:"",pensionPer:"",medicalBase:"",medicalPer:"",accumulationFundBase:"",accumulationFundPer:""}}},methods:{deleteAll:function(){var e=this;this.$confirm("删除["+this.multipleSelection.length+"]条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t="";e.multipleSelection.forEach(function(e){t=t+e.id+","}),e.doDelete(t)}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},handleSelectionChange:function(e){this.multipleSelection=e},handleEdit:function(e,t){this.dialogVisible=!0,t.createDate=new Date(t.createDate),delete t.allSalary,this.salary=t},handleDelete:function(e,t){var i=this;this.$confirm("删除["+t.name+"]账套, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.doDelete(t.id)}).catch(function(){i.$message({type:"info",message:"已取消删除"})})},doDelete:function(e){var t=this;t.tableLoading=!0,this.deleteRequest("/salary/sob/salary/"+e).then(function(e){if(t.tableLoading=!1,e&&200==e.status){e.data;t.loadSalaryCfg()}})},next:function(){var e=this,t=this;7==this.index?this.salary.createDate&&this.salary.basicSalary&&this.salary.trafficSalary&&this.salary.lunchSalary&&this.salary.bonus&&this.salary.pensionBase&&this.salary.pensionPer&&this.salary.medicalBase&&this.salary.medicalPer&&this.salary.accumulationFundBase&&this.salary.accumulationFundPer?this.salary.id?(t.tableLoading=!0,this.putRequest("/salary/sob/salary",this.salary).then(function(e){if(t.tableLoading=!1,e&&200==e.status){e.data;_,t.dialogVisible=!1,t.index=0,t.loadSalaryCfg()}})):this.$prompt("请输入账套名称","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(i){var a=i.value;e.salary.name=a,e.postRequest("/salary/sob/salary",e.salary).then(function(e){if(e&&200==e.status){e.data;t.dialogVisible=!1,t.index=0,t.loadSalaryCfg()}})}).catch(function(){}):this.$message({type:"error",message:"字段不能为空!"}):this.index++},loadSalaryCfg:function(){this.tableLoading=!0;var e=this;this.getRequest("/salary/sob/salary").then(function(t){e.tableLoading=!1,t&&200==t.status&&(e.salaries=t.data)})},emptySalary:function(){this.salary={id:"",createDate:"",basicSalary:"",trafficSalary:"",lunchSalary:"",bonus:"",pensionBase:"",pensionPer:"",medicalBase:"",medicalPer:"",accumulationFundBase:"",accumulationFundPer:""},this.index=0}},mounted:function(){this.loadSalaryCfg()}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-container",[i("el-header",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center","padding-left":"0px"}},[i("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"mini"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("添加账套")]),e._v(" "),i("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-refresh"},on:{click:e.loadSalaryCfg}})],1),e._v(" "),i("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[i("div",[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.salaries,stripe:"",size:"mini"},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"30"}}),e._v(" "),i("el-table-column",{attrs:{width:"120",prop:"name",label:"账套名称"}}),e._v(" "),i("el-table-column",{attrs:{width:"70",prop:"basicSalary",label:"基本工资"}}),e._v(" "),i("el-table-column",{attrs:{width:"70",prop:"trafficSalary",label:"交通补助"}}),e._v(" "),i("el-table-column",{attrs:{width:"70",prop:"lunchSalary",label:"午餐补助"}}),e._v(" "),i("el-table-column",{attrs:{prop:"bonus",width:"70",label:"奖金"}}),e._v(" "),i("el-table-column",{attrs:{width:"100",label:"启用时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDate")(t.row.createDate)))]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"养老金",align:"center"}},[i("el-table-column",{attrs:{prop:"pensionPer",width:"70",label:"比率"}}),e._v(" "),i("el-table-column",{attrs:{width:"70",prop:"pensionBase",label:"基数"}})],1),e._v(" "),i("el-table-column",{attrs:{label:"医疗保险",align:"center"}},[i("el-table-column",{attrs:{width:"70",prop:"medicalPer",label:"比率"}}),e._v(" "),i("el-table-column",{attrs:{prop:"medicalBase",width:"70",label:"基数"}})],1),e._v(" "),i("el-table-column",{attrs:{label:"公积金",align:"center"}},[i("el-table-column",{attrs:{width:"70",prop:"accumulationFundPer",label:"比率"}}),e._v(" "),i("el-table-column",{attrs:{prop:"accumulationFundBase",width:"70",label:"基数"}})],1),e._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center"}},[i("el-table-column",{attrs:{label:"编辑",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini"},on:{click:function(i){e.handleEdit(t.$index,t.row)}}},[e._v("编辑\n                ")])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"删除",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){e.handleDelete(t.$index,t.row)}}},[e._v("删除\n                ")])]}}])})],1)],1)],1),e._v(" "),0!=e.salaries?i("div",{staticStyle:{"text-align":"left","margin-top":"10px"}},[i("el-button",{attrs:{type:"danger",round:"",size:"mini",disabled:0==e.multipleSelection.length},on:{click:e.deleteAll}},[e._v("批量删除\n        ")])],1):e._e()])],1),e._v(" "),i("div",{staticStyle:{"text-align":"left"}},[i("el-dialog",{attrs:{title:"添加工资账套",visible:e.dialogVisible,width:"50%","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:e.emptySalary}},[i("div",{staticStyle:{display:"flex","justify-content":"flex-start"}},[i("el-steps",{attrs:{active:e.index,direction:"vertical"}},[i("el-step",{attrs:{title:"基本工资",size:"mini"}}),e._v(" "),i("el-step",{attrs:{title:"交通补助"}}),e._v(" "),i("el-step",{attrs:{title:"午餐补助"}}),e._v(" "),i("el-step",{attrs:{title:"奖金"}}),e._v(" "),i("el-step",{attrs:{title:"养老金"}}),e._v(" "),i("el-step",{attrs:{title:"医疗保险"}}),e._v(" "),i("el-step",{attrs:{title:"公积金"}}),e._v(" "),i("el-step",{attrs:{title:"启用时间"}})],1),e._v(" "),i("div",{staticStyle:{"margin-left":"30px",display:"flex","justify-content":"center","align-items":"center",width:"80%"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:0==e.index,expression:"index==0"}]},[e._v("\n            基本工资：\n            "),i("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入基本工资...",size:"mini",type:"number"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.next(t)}},model:{value:e.salary.basicSalary,callback:function(t){e.$set(e.salary,"basicSalary",t)},expression:"salary.basicSalary"}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1==e.index,expression:"index==1"}]},[e._v("\n            交通补助：\n            "),i("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入交通补助...",size:"mini",type:"number"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.next(t)}},model:{value:e.salary.trafficSalary,callback:function(t){e.$set(e.salary,"trafficSalary",t)},expression:"salary.trafficSalary"}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:2==e.index,expression:"index==2"}]},[e._v("\n            午餐补助：\n            "),i("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入午餐补助...",size:"mini",type:"number"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.next(t)}},model:{value:e.salary.lunchSalary,callback:function(t){e.$set(e.salary,"lunchSalary",t)},expression:"salary.lunchSalary"}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:3==e.index,expression:"index==3"}]},[e._v("\n            奖金：\n            "),i("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入奖金...",size:"mini",type:"number"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.next(t)}},model:{value:e.salary.bonus,callback:function(t){e.$set(e.salary,"bonus",t)},expression:"salary.bonus"}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:4==e.index,expression:"index==4"}]},[i("div",[e._v("\n              养老金比率：\n              "),i("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入养老金比率...",size:"mini",type:"number"},model:{value:e.salary.pensionPer,callback:function(t){e.$set(e.salary,"pensionPer",t)},expression:"salary.pensionPer"}})],1),e._v(" "),i("div",{staticStyle:{"margin-top":"10px"}},[e._v("\n              养老金基数：\n              "),i("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入养老金基数...",size:"mini",type:"number"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.next(t)}},model:{value:e.salary.pensionBase,callback:function(t){e.$set(e.salary,"pensionBase",t)},expression:"salary.pensionBase"}})],1)]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:5==e.index,expression:"index==5"}]},[i("div",[e._v("\n              医疗保险比率：\n              "),i("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入医疗保险比率...",size:"mini",type:"number"},model:{value:e.salary.medicalPer,callback:function(t){e.$set(e.salary,"medicalPer",t)},expression:"salary.medicalPer"}})],1),e._v(" "),i("div",{staticStyle:{"margin-top":"10px"}},[e._v("\n              医疗保险基数：\n              "),i("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入医疗保险基数...",size:"mini",type:"number"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.next(t)}},model:{value:e.salary.medicalBase,callback:function(t){e.$set(e.salary,"medicalBase",t)},expression:"salary.medicalBase"}})],1)]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:6==e.index,expression:"index==6"}]},[i("div",[e._v("\n              公积金比率：\n              "),i("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入公积金比率...",size:"mini",type:"number"},model:{value:e.salary.accumulationFundPer,callback:function(t){e.$set(e.salary,"accumulationFundPer",t)},expression:"salary.accumulationFundPer"}})],1),e._v(" "),i("div",{staticStyle:{"margin-top":"10px"}},[e._v("\n              公积金基数：\n              "),i("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入公积金基数...",size:"mini",type:"number"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.next(t)}},model:{value:e.salary.accumulationFundBase,callback:function(t){e.$set(e.salary,"accumulationFundBase",t)},expression:"salary.accumulationFundBase"}})],1)]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:7==e.index,expression:"index==7"}]},[e._v("\n            启用时间：\n            "),i("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"date",size:"mini","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.salary.createDate,callback:function(t){e.$set(e.salary,"createDate",t)},expression:"salary.createDate"}})],1)])],1),e._v(" "),i("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center",padding:"0px",margin:"0px"}},[0!=e.index?i("el-button",{attrs:{round:"",size:"mini"},on:{click:function(t){e.index--}}},[e._v("上一步")]):e._e(),e._v(" "),i("el-button",{attrs:{type:"primary",round:"",size:"mini"},domProps:{textContent:e._s(7==e.index?"完成":"下一步")},on:{click:e.next}})],1)])],1)],1)},staticRenderFns:[]};var l=i("VU/8")(a,n,!1,function(e){i("f65t")},null,null);t.default=l.exports},YbFX:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{"margin-top":"10px"}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.emps,size:"mini",border:"",stripe:""}},[i("el-table-column",{attrs:{type:"selection",align:"left",width:"55"}}),e._v(" "),i("el-table-column",{attrs:{prop:"name",align:"left",fixed:"",label:"姓名",width:"120"}}),e._v(" "),i("el-table-column",{attrs:{prop:"workID",width:"120",align:"left",label:"工号"}}),e._v(" "),i("el-table-column",{attrs:{prop:"email",width:"200",align:"left",label:"电子邮件"}}),e._v(" "),i("el-table-column",{attrs:{prop:"phone",width:"120",label:"电话号码"}}),e._v(" "),i("el-table-column",{attrs:{prop:"department.name",align:"left",width:"120",label:"所属部门"}}),e._v(" "),i("el-table-column",{attrs:{label:"工资账套",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tooltip",{attrs:{placement:"right"}},[i("div",{attrs:{slot:"content"},slot:"content"},[t.row.salary?[i("div",[i("el-tag",{attrs:{size:"mini"}},[e._v("基本工资")]),e._v("\n                ￥"+e._s(t.row.salary.basicSalary)+"\n              ")],1),e._v(" "),i("div",[i("el-tag",{attrs:{size:"mini"}},[e._v("奖金")]),e._v("\n                ￥"+e._s(t.row.salary.bonus)+"\n              ")],1),e._v(" "),i("div",[i("el-tag",{attrs:{size:"mini"}},[e._v("午餐补助")]),e._v("\n                ￥"+e._s(t.row.salary.lunchSalary)+"\n              ")],1),e._v(" "),i("div",[i("el-tag",{attrs:{size:"mini"}},[e._v("交通补助")]),e._v("\n                ￥"+e._s(t.row.salary.trafficSalary)+"\n              ")],1),e._v(" "),i("div",[i("el-tag",{attrs:{size:"mini"}},[e._v("养老金基数")]),e._v("\n                ￥"+e._s(t.row.salary.pensionBase)+"\n              ")],1),e._v(" "),i("div",[i("el-tag",{attrs:{size:"mini"}},[e._v("养老金比率")]),e._v("\n                "+e._s(t.row.salary.pensionPer)+"\n              ")],1),e._v(" "),i("div",[i("el-tag",{attrs:{size:"mini"}},[e._v("公积金基数")]),e._v("\n                ￥"+e._s(t.row.salary.accumulationFundBase)+"\n              ")],1),e._v(" "),i("div",[i("el-tag",{attrs:{size:"mini"}},[e._v("公积金比率")]),e._v("\n                "+e._s(t.row.salary.accumulationFundPer)+"\n              ")],1),e._v(" "),i("div",[i("el-tag",{attrs:{size:"mini"}},[e._v("医疗保险基数")]),e._v("\n                ￥"+e._s(t.row.salary.medicalBase)+"\n              ")],1),e._v(" "),i("div",[i("el-tag",{attrs:{size:"mini"}},[e._v("医疗保险比率")]),e._v("\n                "+e._s(t.row.salary.medicalPer)+"\n              ")],1)]:e._e()],2),e._v(" "),i("el-tag",{attrs:{size:"mini"}},[e._v(e._s(t.row.salary?t.row.salary.name:"暂未设置"))])],1)]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-popover",{key:t.row.id,attrs:{placement:"right",width:"200",trigger:"click"},on:{hide:function(i){e.updateSalaryCfg(t.row.id)}}},[i("el-select",{attrs:{size:"mini",placeholder:"请选择"},model:{value:e.sid,callback:function(t){e.sid=t},expression:"sid"}},e._l(e.salaries,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),i("el-button",{attrs:{slot:"reference",size:"mini",type:"danger"},on:{click:function(i){e.showUpdateView(t.row)}},slot:"reference"},[e._v("修改账套\n          ")])],1)]}}])})],1),e._v(" "),i("div",{staticStyle:{"text-align":"right","margin-top":"10px"}},[i("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.totalCount},on:{"current-change":e.currentChange}})],1)],1)},staticRenderFns:[]},n=i("VU/8")({data:function(){return{emps:[],salaries:[],tableLoading:!1,totalCount:-1,sid:"",osid:"",currentPage:1}},mounted:function(){this.loadEmps()},methods:{showUpdateView:function(e){this.loadSalaries(),e.salary?(this.sid=e.salary.id,this.osid=e.salary.id):(this.sid="",this.osid="")},loadSalaries:function(){var e=this;this.getRequest("/salary/sobcfg/salaries").then(function(t){t&&200==t.status&&(e.salaries=t.data)})},updateSalaryCfg:function(e){var t=this;this.osid!=this.sid&&this.putRequest("/salary/sobcfg/",{eid:e,sid:this.sid}).then(function(e){e&&200==e.status&&(e.data,t.loadEmps())})},currentChange:function(e){this.currentPage=e,this.loadEmps()},loadEmps:function(){this.tableLoading=!0;var e=this;this.getRequest("/salary/sobcfg/emp?page="+this.currentPage+"&size=10").then(function(t){if(e.tableLoading=!1,t&&200==t.status){var i=t.data;e.emps=i.emps,e.totalCount=i.count}})}}},a,!1,null,null,null);t.default=n.exports},f65t:function(e,t){},ipd5:function(e,t){},mNON:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("\n    工资表查询\n  ")])])}]},n=i("VU/8")(null,a,!1,null,null,null);t.default=n.exports},tQt2:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={data:function(){return{pickerOptions:{shortcuts:[{text:"今天",onClick:function(e){e.$emit("pick",new Date)}},{text:"昨天",onClick:function(e){var t=new Date;t.setTime(t.getTime()-864e5),e.$emit("pick",t)}},{text:"一周前",onClick:function(e){var t=new Date;t.setTime(t.getTime()-6048e5),e.$emit("pick",t)}}]},depId:1,deps:[],emps:[],hrs:[],keywords:"",fileUploadBtnText:"导入数据",beginDateScope:"",faangledoubleup:"fa-angle-double-up",faangledoubledown:"fa-angle-double-down",dialogTitle:"",multipleSelection:[],depTextColor:"#c0c4cc",nations:[],politics:[],positions:[],joblevels:[],totalCount:-1,currentPage:1,roles:[],defaultProps:{label:"name",isLeaf:"leaf",children:"children"},dialogVisible:!1,dialogVisible1:!1,tableLoading:!1,advanceSearchViewVisible:!1,showOrHidePop:!1,showOrHidePop2:!1,showOrHidePop3:!1,hr:{id:"",name:"",phone:"",gender:"",address:"",departmentId:"",enabled:"",username:"",password:"",userface:"",idCard:"",remark:"",birthday:"",nationId:"",email:"",departmentName:"所属部门..."},user:{id:"",name:"",phone:"",gender:"",address:"",departmentId:"",enabled:"",username:"",password:"",userface:"",idCard:"",remark:"",birthday:"",nationId:"",email:"",departmentName:"所属部门..."},schedule:{userId:"",name:"",phone:"",departmentId:"",departmentName:"所属部门...",time:"",state:"",address:"",theme:"",des:""},sch:{id:"",userId:"",departmentId:"",time:"",state:"",theme:"",des:"",departmentName:"所属部门..."},rules:{name:[{required:!0,message:"必填:姓名",trigger:"blur"}],gender:[{required:!0,message:"必填:性别",trigger:"blur"}],birthday:[{required:!0,message:"必填:出生日期",trigger:"blur"}],idCard:[{required:!0,message:"必填:身份证号码",trigger:"blur"},{pattern:/(^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$)|(^[1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{2}$)/,message:"身份证号码格式不正确",trigger:"blur"}],phone:[{required:!0,message:"必填:电话号码",trigger:"blur"}],address:[{required:!0,message:"必填:联系地址",trigger:"blur"}],departmentId:[{required:!0,message:"必填:部门",trigger:"change"}]}}},methods:{loadDeps:function(){var e=this;this.getRequest("/salary/table/deps").then(function(t){t&&200==t.status&&(e.deps=t.data)})},fileUploadSuccess:function(e,t,i){e&&this.$message({type:e.status,message:e.msg}),this.loadEmps(),this.fileUploadBtnText="导入数据"},fileUploadError:function(e,t,i){this.$message({type:"error",message:"导入失败!"}),this.fileUploadBtnText="导入数据"},beforeFileUpload:function(e){this.fileUploadBtnText="正在导入"},exportEmps:function(){window.open("/system/hr/exportEmp","_parent")},cancelSearch:function(){this.advanceSearchViewVisible=!1,this.emptyEmpData(),this.beginDateScope="",this.loadEmps()},showAdvanceSearchView:function(){this.advanceSearchViewVisible=!this.advanceSearchViewVisible,this.keywords="",this.advanceSearchViewVisible||(this.emptyEmpData(),this.beginDateScope="",this.loadEmps())},handleSelectionChange:function(e){this.multipleSelection=e},deleteManyEmps:function(){var e=this;this.$confirm("此操作将删除["+this.multipleSelection.length+"]条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){for(var t="",i=0;i<e.multipleSelection.length;i++)t+=e.multipleSelection[i].id+",";e.doDelete(t)}).catch(function(){})},deleteEmp:function(e){var t=this;this.$confirm("此操作将永久删除["+e.name+"], 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.doDelete(e.id)}).catch(function(){})},doDelete:function(e){this.tableLoading=!0;var t=this;this.deleteRequest("/system/hr/"+e).then(function(e){if(t.tableLoading=!1,e&&200==e.status){e.data;t.loadEmps()}})},keywordsChange:function(e){""==e&&this.loadEmps()},searchEmp:function(){this.loadEmps()},currentChange:function(e){this.currentPage=e,this.loadEmps()},loadEmps:function(){var e=this,t=this;this.tableLoading=!0;""===this.keywords||this.keywords,this.getRequest("/system/hr/?page="+(this.currentPage-1)+"&size=10&keywords="+this.keywords+"&nationId="+this.hr.nationId+"&departmentId="+this.hr.departmentId+"&nameZh=教员").then(function(i){if(e.tableLoading=!1,i&&200==i.status){var a=i.data;t.hrs=a.hrs,t.roles=a.roles,t.nation=a.nation,t.totalCount=a.count,console.log(a)}})},addEmp:function(e){var t=this,i=this;this.$refs[e].validate(function(e){if(!e)return!1;t.hr.id?(t.tableLoading=!0,t.putRequest("/system/hr/",t.user).then(function(e){if(i.tableLoading=!1,e&&200==e.status){e.data;i.dialogVisible=!1,i.emptyEmpData(),i.loadEmps()}})):(t.tableLoading=!0,t.postRequest("/system/hr/",t.hr).then(function(e){if(i.tableLoading=!1,e&&200==e.status){e.data;i.dialogVisible1=!1,i.emptyEmpData(),i.loadEmps()}}))})},addSch:function(){this.tableLoading=!0;var e=this;this.postRequest("/schedules/sch",this.sch).then(function(t){if(e.tableLoading=!1,t&&200==t.status){t.data;e.dialogVisible1=!1,e.emptyEmpData(),e.loadEmps()}})},reg:function(){this.postRequest("/system/hr/hr/reg",{username:123,password:123}).then(function(e){if(e&&200==e.status){var t=e.data;console.log(t)}})},cancelEidt:function(){this.dialogVisible=!1,this.dialogVisible1=!1,this.emptyEmpData()},showDepTree:function(){this.showOrHidePop=!this.showOrHidePop},showDepTree2:function(){this.showOrHidePop2=!this.showOrHidePop2},showDepTree3:function(){this.showOrHidePop3=!this.showOrHidePop3},handleNodeClick:function(e){this.hr.departmentName=e.name,this.hr.departmentId=e.id,this.user.departmentId=this.hr.departmentId,this.user.departmentName=this.hr.departmentName,this.showOrHidePop=!1,this.depTextColor="#606266"},handleNodeClick2:function(e){this.hr.departmentName=e.name,this.hr.departmentId=e.id,this.showOrHidePop2=!1,this.depTextColor="#606266"},handleNodeClick3:function(e){this.sch.departmentName=e.name,this.sch.departmentId=e.id,this.showOrHidePop3=!1,this.depTextColor="#606266"},initData:function(){var e=this;this.getRequest("/system/hr/basicdata").then(function(t){if(t&&200==t.status){var i=t.data;e.nations=i.nations,e.politics=i.politics,e.deps=i.deps,e.positions=i.positions,e.roles=i.roles}})},showEditEmpView:function(e){console.log(e),this.dialogTitle="编辑管理员",this.hr=e,this.hr.birthday=this.formatDate(e.birthday),this.hr.nationId=e.nation.id,this.hr.departmentId=e.department.id,this.hr.departmentName=e.department.name,this.dialogVisible=!0,this.user.id=e.id,this.user.name=this.hr.name,this.user.gender=this.hr.gender,this.user.phone=this.hr.phone,this.user.address=this.hr.address,this.user.departmentId=this.hr.departmentId,this.user.departmentName=this.hr.departmentName,this.user.enabled=this.hr.enabled,this.user.idCard=this.hr.idCard,this.user.email=this.hr.email,this.user.birthday=this.hr.birthday,this.user.nationId=this.hr.nationId},showAddSchView:function(e){console.log(e),this.dialogTitle="添加排班",this.user=e,this.user.departmentId=e.department.id,this.user.departmentName=e.department.name,this.dialogVisible1=!0,this.sch.time=this.schedule.time,this.sch.userId=this.user.id,this.sch.departmentId=this.schedule.departmentId,this.sch.theme=this.schedule.theme,this.sch.state=this.schedule.state,this.sch.des=this.schedule.des},showAddEmpView:function(){this.dialogTitle="添加管理员",this.dialogVisible1=!0;this.hr.enabled=!0,this.hr.username="1212",this.hr.password="123",this.hr.remark="1",this.hr.userface="1"},emptyEmpData:function(){this.hr={id:"",name:"",phone:"",gender:"",address:"",departmentId:"",enabled:!0,username:phone,password:123,userface:"",idCard:"",remark:"",birthday:"",nationId:"",email:"",departmentName:"所属部门..."},this.user={name:"",phone:"",gender:"",address:"",departmentId:"",username:"",password:"",userface:"",idCard:"",remark:"",birthday:"",nationId:"",email:"",departmentName:"所属部门..."}}},mounted:function(){this.loadDeps(),this.initData(),this.loadEmps()}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-container",[i("el-header",{staticStyle:{"text-align":"left","padding-left":"0px","margin-top":"10px"}},[i("el-tag",{attrs:{size:"medium"}},[e._v("请选择部门:")]),e._v(" "),i("el-select",{attrs:{size:"mini",placeholder:"请选择"},model:{value:e.depId,callback:function(t){e.depId=t},expression:"depId"}},e._l(e.deps,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),i("div",{staticStyle:{display:"inline"}},[i("el-input",{staticStyle:{width:"300px",margin:"0px",padding:"0px"},attrs:{placeholder:"通过姓名搜索教员,记得回车哦...",clearable:"",size:"mini",disabled:e.advanceSearchViewVisible,"prefix-icon":"el-icon-search"},on:{change:e.keywordsChange},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.searchEmp(t)}},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}}),e._v(" "),i("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.searchEmp}},[e._v("搜索")]),e._v(" "),i("el-button",{staticStyle:{"margin-left":"5px"},attrs:{slot:"reference",type:"primary",size:"mini"},on:{click:e.showAdvanceSearchView},slot:"reference"},[i("i",{staticClass:"fa fa-lg",class:[e.advanceSearchViewVisible?e.faangledoubleup:e.faangledoubledown],staticStyle:{"margin-right":"5px"}}),e._v("高级搜索\n        ")])],1)],1),e._v(" "),i("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[i("div",[i("transition",{attrs:{name:"slide-fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.advanceSearchViewVisible,expression:"advanceSearchViewVisible"}],staticStyle:{"margin-bottom":"10px",border:"1px","border-radius":"5px","border-style":"solid",padding:"5px 0px 5px 0px","box-sizing":"border-box","border-color":"#20a0ff"}},[i("el-row"),e._v(" "),i("el-row",{staticStyle:{"margin-top":"10px"}},[i("el-col",{attrs:{span:5}},[e._v("\n                所属部门:\n                "),i("el-popover",{attrs:{placement:"right",title:"请选择部门",trigger:"manual"},model:{value:e.showOrHidePop2,callback:function(t){e.showOrHidePop2=t},expression:"showOrHidePop2"}},[i("el-tree",{attrs:{data:e.deps,"default-expand-all":!1,props:e.defaultProps,"expand-on-click-node":!1},on:{"node-click":e.handleNodeClick2}}),e._v(" "),i("div",{staticStyle:{width:"130px",height:"26px",display:"inline-flex","font-size":"13px",border:"1px","border-radius":"5px","border-style":"solid","padding-left":"13px","box-sizing":"border-box","border-color":"#dcdfe6",cursor:"pointer","align-items":"center"},style:{color:e.depTextColor},attrs:{slot:"reference"},on:{click:e.showDepTree2},slot:"reference"},[e._v(e._s(e.hr.departmentName))])],1)],1),e._v(" "),i("el-col",{attrs:{span:5,offset:4}},[i("el-button",{attrs:{size:"mini"},on:{click:e.cancelSearch}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"mini"},on:{click:e.searchEmp}},[e._v("搜索")])],1)],1)],1)]),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.hrs,border:"",stripe:"",size:"mini"},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",align:"left",width:"30"}}),e._v(" "),i("el-table-column",{attrs:{prop:"name",align:"left",fixed:"",label:"姓名",width:"90"}}),e._v(" "),i("el-table-column",{attrs:{prop:"gender",label:"性别",width:"50"}}),e._v(" "),i("el-table-column",{attrs:{prop:"idCard",width:"150",align:"left",label:"身份证号码"}}),e._v(" "),i("el-table-column",{attrs:{width:"85",align:"left",label:"出生日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDate")(t.row.birthday)))]}}])}),e._v(" "),i("el-table-column",{attrs:{width:"60",prop:"nation.name",label:"民族"}}),e._v(" "),i("el-table-column",{attrs:{prop:"phone",width:"100",label:"电话号码"}}),e._v(" "),i("el-table-column",{attrs:{prop:"address",width:"220",align:"left",label:"联系地址"}}),e._v(" "),i("el-table-column",{attrs:{prop:"department.name",align:"left",width:"100",label:"所属部门"}}),e._v(" "),i("el-table-column",{attrs:{width:"100",align:"left",prop:"roles[0].nameZh",label:"角色"}}),e._v(" "),i("el-table-column",{attrs:{prop:"email",width:"180",align:"left",label:"电子邮件"}}),e._v(" "),i("el-table-column",{attrs:{fixed:"right",label:"操作",width:"195"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{staticStyle:{padding:"3px 4px 3px 4px",margin:"2px"},attrs:{size:"mini"},on:{click:function(i){e.showEditEmpView(t.row)}}},[e._v("编辑")]),e._v(" "),i("el-button",{staticStyle:{padding:"3px 4px 3px 4px",margin:"2px"},attrs:{type:"primary",size:"mini"},on:{click:function(i){e.showAddSchView(t.row)}}},[e._v("添加排班")]),e._v(" "),i("el-button",{staticStyle:{padding:"3px 4px 3px 4px",margin:"2px"},attrs:{type:"danger",size:"mini"},on:{click:function(i){e.deleteEmp(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),i("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px"}},[e.hrs.length>0?i("el-button",{attrs:{type:"danger",size:"mini",disabled:0==e.multipleSelection.length},on:{click:e.deleteManyEmps}},[e._v("批量删除")]):e._e(),e._v(" "),i("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,15,20,30,50],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.currentChange}})],1)],1)])],1),e._v(" "),i("el-form",{ref:"editUserForm",staticStyle:{margin:"0px",padding:"0px"},attrs:{model:e.user,rules:e.rules}},[i("div",{staticStyle:{"text-align":"left"}},[i("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,visible:e.dialogVisible,width:"77%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("el-row",[i("el-col",{attrs:{span:6}},[i("div",[i("el-form-item",{attrs:{label:"姓名:",prop:"name"}},[i("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入管理员姓名"},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1)],1)]),e._v(" "),i("el-col",{attrs:{span:5}},[i("div",[i("el-form-item",{attrs:{label:"性别:",prop:"gender"}},[i("el-radio-group",{model:{value:e.user.gender,callback:function(t){e.$set(e.user,"gender",t)},expression:"user.gender"}},[i("el-radio",{attrs:{label:"男"}},[e._v("男")]),e._v(" "),i("el-radio",{staticStyle:{"margin-left":"15px"},attrs:{label:"女"}},[e._v("女")])],1)],1)],1)]),e._v(" "),i("el-col",{attrs:{span:6}},[i("div",[i("el-form-item",{attrs:{label:"出生日期:",prop:"birthday"}},[i("el-date-picker",{staticStyle:{width:"150px"},attrs:{size:"mini","value-format":"yyyy-MM-dd HH:mm:ss",type:"date",placeholder:"出生日期"},model:{value:e.user.birthday,callback:function(t){e.$set(e.user,"birthday",t)},expression:"user.birthday"}})],1)],1)])],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:6}},[i("div",[i("el-form-item",{attrs:{label:"民族:",prop:"nationId"}},[i("el-select",{staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"请选择民族"},model:{value:e.user.nationId,callback:function(t){e.$set(e.user,"nationId",t)},expression:"user.nationId"}},e._l(e.nations,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1)]),e._v(" "),i("el-col",{attrs:{span:7}},[i("div",[i("el-form-item",{attrs:{label:"联系地址:",prop:"address"}},[i("el-input",{staticStyle:{width:"200px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"联系地址..."},model:{value:e.user.address,callback:function(t){e.$set(e.user,"address",t)},expression:"user.address"}})],1)],1)])],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:6}},[i("div",[i("el-form-item",{attrs:{label:"所属部门:",prop:"departmentId"}},[i("el-popover",{attrs:{placement:"right",title:"请选择部门",trigger:"manual"},model:{value:e.showOrHidePop,callback:function(t){e.showOrHidePop=t},expression:"showOrHidePop"}},[i("el-tree",{attrs:{data:e.deps,"default-expand-all":!1,props:e.defaultProps,"expand-on-click-node":!1},on:{"node-click":e.handleNodeClick}}),e._v(" "),i("div",{staticStyle:{width:"150px",height:"26px",display:"inline-flex","font-size":"13px",border:"1px","border-radius":"5px","border-style":"solid","padding-left":"13px","box-sizing":"border-box","border-color":"#dcdfe6",cursor:"pointer","align-items":"center"},style:{color:e.depTextColor},attrs:{slot:"reference"},on:{click:function(t){return"button"in t||!e._k(t.keyCode,"left",37,t.key)?"button"in t&&0!==t.button?null:void e.showDepTree(t):null}},slot:"reference"},[e._v(e._s(e.user.departmentName))])],1)],1)],1)]),e._v(" "),i("el-col",{attrs:{span:7}},[i("div",[i("el-form-item",{attrs:{label:"电话号码:",prop:"phone"}},[i("el-input",{staticStyle:{width:"200px"},attrs:{"prefix-icon":"el-icon-phone",size:"mini",placeholder:"电话号码..."},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}})],1)],1)])],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("div",[i("el-form-item",{attrs:{label:"身份证号码:",prop:"idCard"}},[i("el-input",{staticStyle:{width:"180px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入员工身份证号码..."},model:{value:e.user.idCard,callback:function(t){e.$set(e.user,"idCard",t)},expression:"user.idCard"}})],1)],1)]),e._v(" "),i("el-col",{attrs:{span:8}},[i("div",[i("el-form-item",{attrs:{label:"邮箱:",prop:"email"}},[i("el-input",{staticStyle:{width:"180px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入邮箱..."},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1)],1)])],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:e.cancelEidt}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.addEmp("editUserForm")}}},[e._v("确 定")])],1)],1)],1)]),e._v(" "),i("el-form",{ref:"addEmpForm",staticStyle:{margin:"0px",padding:"0px"},attrs:{model:e.schedule,rules:e.rules1}},[i("div",{staticStyle:{"text-align":"left"}},[i("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,visible:e.dialogVisible1,width:"77%"},on:{"update:visible":function(t){e.dialogVisible1=t}}},[i("el-row",[i("el-col",{attrs:{span:6}},[i("div",[i("el-form-item",{attrs:{label:"姓名:",prop:"name"}},[i("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",disabled:""},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1)],1)]),e._v(" "),i("el-col",{attrs:{span:7}},[i("div",[i("el-form-item",{attrs:{label:"电话号码:",prop:"phone"}},[i("el-input",{staticStyle:{width:"200px"},attrs:{"prefix-icon":"el-icon-phone",size:"mini",disabled:""},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}})],1)],1)]),e._v(" "),i("el-col",{attrs:{span:6}},[i("div",[i("el-form-item",{attrs:{label:"所属部门:",prop:"departmentId"}},[i("el-popover",{attrs:{placement:"right",trigger:"manual"},model:{value:e.showOrHidePop,callback:function(t){e.showOrHidePop=t},expression:"showOrHidePop"}},[i("div",{staticStyle:{width:"150px",height:"26px",display:"inline-flex","font-size":"13px",border:"1px","border-radius":"5px","border-style":"solid","padding-left":"13px","box-sizing":"border-box","border-color":"#dcdfe6",cursor:"pointer","align-items":"center"},style:{color:e.depTextColor},attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(e.user.departmentName))])])],1)],1)])],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:7}},[i("div",[i("el-form-item",{attrs:{label:"授课日期:",prop:"time"}},[i("el-date-picker",{staticStyle:{width:"65%"},attrs:{size:"mini","value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",align:"right",placeholder:"选择授课日期时间","picker-options":e.pickerOptions},model:{value:e.sch.time,callback:function(t){e.$set(e.sch,"time",t)},expression:"sch.time"}})],1)],1)]),e._v(" "),i("el-col",{attrs:{span:6}},[i("div",[i("el-form-item",{attrs:{label:"授课地点:",prop:"departmentId"}},[i("el-popover",{attrs:{placement:"right",title:"授课地点",trigger:"manual"},model:{value:e.showOrHidePop3,callback:function(t){e.showOrHidePop3=t},expression:"showOrHidePop3"}},[i("el-tree",{attrs:{data:e.deps,"default-expand-all":!1,props:e.defaultProps,"expand-on-click-node":!1},on:{"node-click":e.handleNodeClick3}}),e._v(" "),i("div",{staticStyle:{width:"150px",height:"26px",display:"inline-flex","font-size":"13px",border:"1px","border-radius":"5px","border-style":"solid","padding-left":"13px","box-sizing":"border-box","border-color":"#dcdfe6",cursor:"pointer","align-items":"center"},style:{color:e.depTextColor},attrs:{slot:"reference"},on:{click:function(t){return"button"in t||!e._k(t.keyCode,"left",37,t.key)?"button"in t&&0!==t.button?null:void e.showDepTree3(t):null}},slot:"reference"},[e._v(e._s(e.sch.departmentName))])],1)],1)],1)]),e._v(" "),i("el-col",{attrs:{span:6}},[i("div",[i("el-form-item",{attrs:{label:"授课状态:",prop:"state"}},[i("el-input",{staticStyle:{width:"100px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"授课状态..."},model:{value:e.sch.state,callback:function(t){e.$set(e.sch,"state",t)},expression:"sch.state"}})],1)],1)])],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:9}},[i("div",[i("el-form-item",{attrs:{label:"授课主题:",prop:"theme"}},[i("el-input",{staticStyle:{width:"300px"},attrs:{size:"mini",placeholder:"授课主题..."},model:{value:e.sch.theme,callback:function(t){e.$set(e.sch,"theme",t)},expression:"sch.theme"}})],1)],1)]),e._v(" "),i("el-col",{attrs:{span:9}},[i("div",[i("el-form-item",{attrs:{label:"备注:",prop:"des"}},[i("el-input",{staticStyle:{width:"300px"},attrs:{size:"mini",placeholder:"备注..."},model:{value:e.sch.des,callback:function(t){e.$set(e.sch,"des",t)},expression:"sch.des"}})],1)],1)])],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:e.cancelEidt}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.addSch("addEmpForm")}}},[e._v("确 定")])],1)],1)],1)])],1)},staticRenderFns:[]},l=i("VU/8")(a,n,!1,null,null,null);t.default=l.exports}});
//# sourceMappingURL=5.810433cc9d1b9e6400f0.js.map